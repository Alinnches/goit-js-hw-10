{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport '../css/libraries.css'\nimport pathErrorIcon from \"../img/error-icon.svg\";\n\nconst startBtn = document.querySelector('[data-start]');\nconst inputEl = document.querySelector('#datetime-picker');\n\nconst timeEl = { \n  daysEl: document.querySelector('[data-days]'),\n  hoursEl: document.querySelector('[data-hours]'),\n  minutesEl: document.querySelector('[data-minutes]'),\n  secondsEl: document.querySelector('[data-seconds]'),\n};\n\nlet selectedDate = null;\nstartBtn.disabled = true;\n\nflatpickr(inputEl, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    position: \"below\",\n    onClose(selectedDates) {\n        selectedDate = selectedDates[0];\n\n        if (selectedDate <= new Date()) {\n            iziToast.error({\n                title: \"Error!\",\n                message: \"Please choose a date in the future!\",\n                position: \"topRight\",\n                backgroundColor: \"#EF4040\",\n                titleColor: \"#fff\",\n                messageColor: \"#fff\",\n                iconUrl : pathErrorIcon,\n            });\n            startBtn.disabled = true;\n        } else {\n            startBtn.disabled = false;\n        }\n    },\n});\n\nfunction updateTimer(time) {\n    timeEl.daysEl.textContent = time.days.toString().padStart(2, '0');\n    timeEl.hoursEl.textContent = time.hours.toString().padStart(2, '0');\n    timeEl.minutesEl.textContent = time.minutes.toString().padStart(2, '0');\n    timeEl.secondsEl.textContent = time.seconds.toString().padStart(2, '0');\n}\n\nfunction startTimer(targetDate) {\n    startBtn.disabled = true;\n\n    const timer = setInterval(() => {\n        const now = new Date().getTime();\n        const timeLeft = targetDate - now;\n\n        if (timeLeft <= 0) {\n            clearInterval(timer);\n            updateTimer({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n            return;\n        }\n\n        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\n        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((timeLeft % (1000 * 60 * 60)) / 1000);\n\n        updateTimer({ days, hours, minutes, seconds });\n    }, 1000);\n}\n\nstartBtn.addEventListener('click', () => {\n    if (selectedDate) {\n        startTimer(selectedDate.getTime());\n    }\n});"],"names":["startBtn","inputEl","timeEl","selectedDate","flatpickr","selectedDates","iziToast","pathErrorIcon","updateTimer","time","startTimer","targetDate","timer","now","timeLeft","days","hours","minutes","seconds"],"mappings":"sGAOA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAU,SAAS,cAAc,kBAAkB,EAEnDC,EAAS,CACb,OAAQ,SAAS,cAAc,aAAa,EAC5C,QAAS,SAAS,cAAc,cAAc,EAC9C,UAAW,SAAS,cAAc,gBAAgB,EAClD,UAAW,SAAS,cAAc,gBAAgB,CACpD,EAEA,IAAIC,EAAe,KACnBH,EAAS,SAAW,GAEpBI,EAAUH,EAAS,CACf,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,SAAU,QACV,QAAQI,EAAe,CACnBF,EAAeE,EAAc,CAAC,EAE1BF,GAAgB,IAAI,MACpBG,EAAS,MAAM,CACX,MAAO,SACP,QAAS,sCACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,QAAUC,CAC1B,CAAa,EACDP,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAE3B,CACL,CAAC,EAED,SAASQ,EAAYC,EAAM,CACvBP,EAAO,OAAO,YAAcO,EAAK,KAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EAChEP,EAAO,QAAQ,YAAcO,EAAK,MAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EAClEP,EAAO,UAAU,YAAcO,EAAK,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EACtEP,EAAO,UAAU,YAAcO,EAAK,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,CAC1E,CAEA,SAASC,EAAWC,EAAY,CAC5BX,EAAS,SAAW,GAEpB,MAAMY,EAAQ,YAAY,IAAM,CAC5B,MAAMC,EAAM,IAAI,KAAM,EAAC,QAAO,EACxBC,EAAWH,EAAaE,EAE9B,GAAIC,GAAY,EAAG,CACf,cAAcF,CAAK,EACnBJ,EAAY,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EACzD,MACH,CAED,MAAMO,EAAO,KAAK,MAAMD,GAAY,IAAO,GAAK,GAAK,GAAG,EAClDE,EAAQ,KAAK,MAAOF,GAAY,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,EACxEG,EAAU,KAAK,MAAOH,GAAY,IAAO,GAAK,KAAQ,IAAO,GAAG,EAChEI,EAAU,KAAK,MAAOJ,GAAY,IAAO,GAAK,IAAO,GAAI,EAE/DN,EAAY,CAAE,KAAAO,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CAAA,CAChD,EAAE,GAAI,CACX,CAEAlB,EAAS,iBAAiB,QAAS,IAAM,CACjCG,GACAO,EAAWP,EAAa,QAAO,CAAE,CAEzC,CAAC"}